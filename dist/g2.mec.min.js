/**
 * g2.mec (c) 2013-16 Stefan Goessner
 * @license
 * MIT License
 */
g2.symbol.origin=function(){var t=4;return g2().beg({lc:"round",lj:"round",lw:1}).p().m(6*t,0).l(0,0).l(0,6*t).stroke().p().m(10*t,0).l(6*t,3/4*t).a(-Math.PI/3,6*t,-3/4*t).z().m(0,10*t).l(3/4*t,6*t).a(Math.PI/3,-3/4*t,6*t).z().drw().cir(0,0,t).end()}();g2.State.nodcolor="#333";g2.State.nodfill="#dedede";g2.State.nodfill2="#aeaeae";g2.State.linkcolor="#666";g2.State.linkfill="rgba(176,176,176,0.5)";g2.State.solid=[];g2.State.dash=[15,10];g2.State.dot=[4,4];g2.State.dashdot=[25,6.5,2,6.5];g2.symbol.nod=g2().cir(0,0,5,{ls:"@nodcolor",fs:"@nodfill"});g2.symbol.dblnod=g2().cir(0,0,6,{ls:"@nodcolor",fs:"@nodfill"}).cir(0,0,3,{ls:"@nodcolor",fs:"@nodfill2"});g2.symbol.nodfix=g2().p().m(-8,-12).l(0,0).l(8,-12).drw({ls:"@nodcolor",fs:"@nodfill2"}).cir(0,0,5,{ls:"@nodcolor",fs:"@nodfill"});g2.symbol.dblnodfix=g2().p().m(-8,-12).l(0,0).l(8,-12).drw({ls:"@nodcolor",fs:"@nodfill2"}).cir(0,0,6,{ls:"@nodcolor",fs:"@nodfill"}).cir(0,0,3,{ls:"@nodcolor",fs:"@nodfill2"});g2.symbol.nodflt=g2().style({ls:"@nodcolor",fs:"@nodfill"}).p().m(-8,-12).l(0,0).l(8,-12).z().drw({fs:"@nodfill2"}).cir(0,0,5,{fs:"@nodfill"}).lin(-9,-19,9,-19,{ls:"@nodfill2",lw:5,lwnosc:false}).lin(-9,-15.5,9,-15.5,{ls:"@nodcolor",lw:2,lwnosc:false});g2.symbol.dblnodflt=g2().style({ls:"@nodcolor",fs:"@nodfill"}).p().m(-8,-12).l(0,0).l(8,-12).z().drw({fs:"@nodfill2"}).cir(0,0,6,{fs:"@nodfill"}).cir(0,0,3,{ls:"@nodcolor",fs:"@nodfill2"}).lin(-9,-19,9,-19,{ls:"@nodfill2",lw:5,lwnosc:false}).lin(-9,-15.5,9,-15.5,{ls:"@nodcolor",lw:2,lwnosc:false});g2.symbol.gnd=g2().cir(0,0,5,{ls:"@nodcolor",fs:"@nodfill"}).p().m(0,5).a(-Math.PI/2,5,0).l(-5,0).a(Math.PI/2,0,-5).z().fill({fs:"@nodcolor"});g2.symbol.pol=g2().cir(0,0,5,{ls:"@nodcolor",fs:"@nodfill"}).cir(0,0,2,{ls:"@nodcolor",fs:"@nodcolor"});g2.prototype.vec=function t(o,r,n,l){var s,e,y=n-o,a=l-r,i=Math.hypot(y,a),u=i>0?y/i:0,c=i>0?a/i:0;return this.beg({fs:"@ls",lc:"round",lj:"round"}).p().m(o,r).l(s=n,e=l).m(s,e).l(s+=-12*u-2.5*c,e+=-12*c+2.5*u).a(-Math.PI/3,s+5*c,e-5*u).z().drw().end()};g2.prototype.avec=function o(t,r,n,l,s){var e=s>=0?-12/n:12/n,y=Math.cos(l+s+e),a=Math.sin(l+s+e);return this.beg().arc(t,r,n,l,s,{fs:"transparent"}).p().m(t+n*Math.cos(l+s),r+n*Math.sin(l+s)).l(t+(n-2.5)*y,r+(n-2.5)*a).a(Math.PI/3,t+(n+2.5)*y,r+(n+2.5)*a).z().drw({fs:"@ls",lc:"round",lj:"round"}).end()};g2.prototype.dim=function r(t,o,n,l,s){var e,y,a=n-t,i=l-o,u=Math.hypot(a,i),c=s&&s.pos==="out"?-1:1,d=c*(u>0?a/u:0),p=c*(u>0?i/u:0);return this.beg({fs:"@ls",lc:"round",lj:"round"}).p().l(t,o).l(n,l).m(e=t,y=o).l(e+=12*d-2.5*p,y+=12*p+2.5*d).a(Math.PI/3,e+=5*p,y+=-5*d).z().m(t+3*p,o-3*d).l(t-3*p,o+3*d).z().m(e=n,y=l).l(e+=-12*d-2.5*p,y+=-12*p+2.5*d).a(-Math.PI/3,e+=5*p,y+=-5*d).z().m(n+3*p,l-3*d).l(n-3*p,l+3*d).z().drw().end()};g2.prototype.adim=function n(t,o,r,l,s,e){var y=e&&e.pos==="out"?-1:1,a=y*(s>=0?12/r:-12/r),i=r-2.5,u=r+2.5,c=Math.cos(l),d=Math.sin(l),p=Math.cos(l+s),f=Math.sin(l+s),x=Math.cos(l+a),h=Math.sin(l+a),g=Math.cos(l+s-a),m=Math.sin(l+s-a);return this.beg().arc(t,o,r,l,s,{fs:"transparent"}).p().m(t+r*c,o+r*d).l(t+i*x,o+i*h).a(-y*Math.PI/3,t+u*x,o+u*h).z().m(t+i*c,o+i*d).l(t+u*c,o+u*d).m(t+r*p,o+r*f).l(t+i*g,o+i*m).a(y*Math.PI/3,t+u*g,o+u*m).z().m(t+i*p,o+i*f).l(t+u*p,o+u*f).drw({fs:"@ls",lc:"round",lj:"round"}).end()};g2.prototype.slider=function l(t,o,r,n,s){n=n||32;s=s||16;return this.beg({x:t,y:o,w:r,fs:"@linkfill"}).rec(-n/2,-s/2,n,s).end()};g2.prototype.spring=function(t,o,r,n,l){var s=Math.hypot(r-t,n-o);l=l||16;if(s<=l)return this.lin(t,o,r,n);else{var e={x1:t,y1:o,x2:r,y2:n,ux:(r-t)/s,uy:(n-o)/s},y=(t+r)/2,a=(o+n)/2;return this.p().m(e.x1,e.y1).l(y-e.ux*l/2,a-e.uy*l/2).l(y+(-e.ux/6+e.uy/2)*l,a+(-e.uy/6-e.ux/2)*l).l(y+(e.ux/6-e.uy/2)*l,a+(e.uy/6+e.ux/2)*l).l(y+e.ux*l/2,a+e.uy*l/2).l(e.x2,e.y2).stroke()}};g2.prototype.damper=function(t,o,r,n,l){var s=Math.hypot(r-t,n-o);l=l||16;if(s<=l)return this.lin(t,o,r,n);else{var e={x1:t,y1:o,x2:r,y2:n,ux:(r-t)/s,uy:(n-o)/s},y=(t+r)/2,a=(o+n)/2;return this.p().m(e.x1,e.y1).l(y-e.ux*l/2,a-e.uy*l/2).m(y+(e.ux-e.uy)*l/2,a+(e.uy+e.ux)*l/2).l(y+(-e.ux-e.uy)*l/2,a+(-e.uy+e.ux)*l/2).l(y+(-e.ux+e.uy)*l/2,a+(-e.uy-e.ux)*l/2).l(y+(e.ux+e.uy)*l/2,a+(e.uy-e.ux)*l/2).m(y,a).l(e.x2,e.y2).stroke()}};g2.prototype.link=function(t){return this.beg({fs:"@linkfill",ls:"@linkcolor",lw:6,lj:"round"}).ply(t,true,{fmt:"{x,y}"}).end()};g2.prototype.ground=function s(t,o,r){var n=0,l,s,e,y,a,i,u,c,d,p,f,x=[],h=r&&r.h||4,g=r&&r.sign||1,m=g2.prototype.ply.itrOf(t,r);l=s=m(t,n=0);x.push(l);y=m(t,n=1);i=y.x-s.x;u=y.y-s.y;p=Math.hypot(i,u)||1;a=c={x:i/p,y:u/p};for(e=m(t,++n);!e.done;e=m(t,++n)){i=e.x-y.x;u=e.y-y.y;p=Math.hypot(i,u)||1;d={x:i/p,y:u/p};f=(1-d.x*c.x-d.y*c.y)/(c.y*d.x-c.x*d.y);x.push({x:y.x+g*(h+1)*(f*c.x-c.y),y:y.y+g*(h+1)*(f*c.y+c.x)});c=d;s=y;y=e}if(o){i=l.x-y.x;u=l.y-y.y;p=Math.hypot(i,u)||1;d={x:i/p,y:u/p};f=(1-d.x*c.x-d.y*c.y)/(c.y*d.x-c.x*d.y);x.push({x:y.x+g*(h+1)*(f*c.x-c.y),y:y.y+g*(h+1)*(f*c.y+c.x)});f=(1-a.x*d.x-a.y*d.y)/(d.y*a.x-d.x*a.y);x[0]={x:l.x+g*(h+1)*(-f*a.x-a.y),y:l.y+g*(h+1)*(-f*a.y+a.x)}}else{x[0]={x:l.x-g*(h+1)*a.y,y:l.y+g*(h+1)*a.x};x.push({x:y.x-g*(h+1)*c.y,y:y.y+g*(h+1)*c.x})}return this.beg({x:-.5,y:-.5,lwnosc:false,fs:"transparent",lw:2}).ply(t,o,r).style({ls:"@nodfill2",lw:2*h}).ply(x,o,{fmt:"{x,y}"}).end()};g2.symbol.dot=g2().style({lwnosc:true}).cir(0,0,2);g2.symbol.rec=g2().style({lwnosc:true}).rec(-2,-2,4,4);g2.symbol.tilde=g2().p().m(0,3).a(Math.PI/2,0,0).a(-Math.PI/2,0,-3).style({lwnosc:true,lc:"round"}).stroke();g2.symbol.arrow=g2().p().m(0,0).l(-7,-2).a(Math.PI/3,-7,2).z().style({lwnosc:true,lj:"round"}).drw();g2.symbol.tick=g2().p().m(0,-2).l(0,2).style({lwnosc:true,lc:"round"}).stroke();g2.symbol.arrowtick=g2().p().m(0,-2).l(0,2).m(0,0).l(-7,-2).a(Math.PI/3,-7,2).z().style({lwnosc:true,lc:"round",lj:"round"}).drw();g2.prototype.mrk=function e(){var t=this.findCmdIdx(this._hasProxy);if(arguments&&arguments.length&&t)this.cmds.push({c:e.cmd,a:[this,proxyIdx,Array.prototype.slice.call(arguments)]});return this};g2.prototype.mrk.cmd=function y(t,o,r){var n=t.state,l=t.cmds[o],s,e,y,a,i={},u=n.get("lw",this),c=l&&(l.proxy||l.c&&l.c.proxy),d=c&&c.apply(t,l.a);if(d)for(var p=0;p<r.length;p+=3){a=typeof r[p]==="string"?g2.symbol[r[p]]:r[p];e=r[p+1];s=[].concat(d.loc&&d.loc(r[p+2])||r[p+2]);if(a)for(var f=0;f<s.length&&!i.done;f++){i=d.p(s[f]);y=e<0?Math.atan2(i.dy,i.dx)-Math.PI:e>0?Math.atan2(i.dy,i.dx):0;g2.prototype.use.cmd.call(this,t,a,i.x,i.y,y,u)}}};g2.prototype.label=function a(t,o,r){var n=this.findCmdIdx(g2.prototype._hasProxy);if(n){var l=this.cmds[n],s=l&&(l.proxy||l.c&&l.c.proxy),e=s&&s.apply(this,l.a),y=e&&e.p(o||"p")||{x:0,y:0,dx:0,dy:0},a=r+0===r?r||1:r==="left"?-1:1,i=y.dy*a,u=-y.dx*a;y.x+=i;y.y+=u;return this.txt(t,y.x,y.y,0,{thal:i>0?"left":i<0?"right":"center",tval:u>0?"bottom":u<0?"top":"middle"})}};g2.State.labelOffset=10;g2.prototype._hasProxy=function(t){return t.proxy||t.c.proxy};g2.prototype.proxy=function i(t,o){this.cmds.push({proxy:t,a:o,c:function(){}});return this};g2.prototype.lin.proxy=function(t,o,r,n){var l=r-t,s=n-o,e=Math.hypot(l,s),y=e>0?l/e:0,a=e>0?s/e:0,i=e<40?1/2:1/Math.floor(e/20),u=e<20?1/20*e:1;return{p:function(r){var n=r==="beg"?0:r==="end"?1:r==="mid"||r==="p"?.5:r;return{x:t+l*n,y:o+s*n,dx:y,dy:a}},len:function(){return e},du:function(){return i},slip:function(){return u},s:function(t){var o=t*t;return 3*o-2*t*o}}};g2.prototype.arc.proxy=function(t,o,r,n,l){var s=Math.abs(r*l),e=s<30?1/Math.max(3,Math.floor(Math.abs(l)*2+.5)):1/Math.floor(s/10),y=s<30?1/120*s:s<100?1/4:s<200?1/2:1;return{p:function(s){var e=s==="beg"?0:s==="end"?1:s==="mid"?.5:s;return{x:t+r*Math.cos(n+e*l),y:o+r*Math.sin(n+e*l),dx:-Math.sin(n+e*l),dy:Math.cos(n+e*l)}},len:function(){return s},du:function(){return e},slip:function(){return y},s:l*l>=Math.PI*Math.PI?function(t){return t}:function(t){var o=t*t;return 3*o-2*t*o}}};g2.prototype.ply.proxy=function(t,o){var r=g2.prototype.ply.itr,n=r(t).count,l=0;return{loc:function(t){return t==="beg"?"#0":t==="end"?"#"+Math.max(n-1,0):t==="mid"?function(){var t=[];for(var o=1;o<n-1;o++)t.push("#"+o);return t}():t},p:function(t){if(typeof t==="string"&&t[0]==="#")return this.pIdx(+t.substr(1));else return this.pPar(t)},pIdx:function(o){var l=Math.max(o-1,0),s=Math.min(o+1,n-1),e=r(t,l),y=r(t,o),a=r(t,s),i=a.x-e.x,u=a.y-e.y,c=Math.hypot(i,u);return{x:y.x,y:y.y,dx:i/c,dy:u/c}},pPar:function(o){return r(t,0)},length:function(){if(l===0){var s,e,y=r(t,0),a;for(s=0,e=1;s<(o?n:n-1);s++,e=(s+1)%n){a=r(t,e);l+=Math.hypot(a.x-y.x,a.y-y.y);y=a}}return l}}};g2.prototype.rec.proxy=function(t,o,r,n){var l=Math.sqrt(2);var s=this.state.cartesian?{c:[0,0,1],e:[1,0,1],ne:[1,1,l],n:[0,1,1],nw:[-1,1,l],w:[-1,0,1],sw:[-1,-1,l],s:[0,-1,1],se:[1,-1,l]}:{c:[0,0,1],e:[1,0,1],ne:[1,-1,l],n:[0,-1,1],nw:[-1,-1,l],w:[-1,0,1],sw:[-1,1,l],s:[0,1,1],se:[1,1,l]};return{p:function(l){var e=s[l||"c"];return{x:t+e[0]*r/2,y:o+e[1]*n/2,dx:-e[1]/e[2],dy:e[0]/e[2]}}}};g2.prototype.cir.proxy=function(t,o,r){var n=Math.sqrt(2)/2;var l=this.state.cartesian?{p:[0,0],c:[0,0],e:[1,0],ne:[n,n],n:[0,1],nw:[-n,n],w:[-1,0],sw:[-n,-n],s:[0,-1],se:[n,-n]}:{p:[0,0],c:[0,0],e:[1,0],ne:[n,-n],n:[0,-1],nw:[-n,-n],w:[-1,0],sw:[-n,n],s:[0,1],se:[n,n]};return{p:function(n){var s=l[n||"c"];return{x:t+s[0]*r,y:o+s[1]*r,dx:-s[1],dy:s[0]}}}};g2.prototype.use.proxy=function(t,o){return g2.prototype.cir.proxy.call(this,o.x,o.y,1)};g2.prototype.end.proxy=function(t){var o=this.myBeg();return g2.prototype.cir.proxy.call(this,o.a[1]||0,o.a[2]||0,3)};